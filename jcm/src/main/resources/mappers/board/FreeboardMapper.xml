<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jocomi.jcm.board.model.mapper.FreeBoardMapper">
<!-- 모든 자유 게시글 조회 -->
    <select id="selectFB" resultType="com.jocomi.jcm.board.model.vo.FreeBoard">
        SELECT * FROM FREE_BOARD
    </select>

    <!-- 특정 자유 게시글 조회 -->
    <select id="detailFree" resultType="com.jocomi.jcm.board.model.vo.FreeBoard">
        SELECT * FROM FREE_BOARD WHERE POST_NO = #{postNo}
    </select>

    <!-- 신규 자유 게시글 등록 -->
    <insert id="enrollfreeBoard">
        INSERT INTO FREE_BOARD (POST_NO, MEMBER_ID, POST_TITLE, POST_CONTENT, IMG_FILE, POST_TIME, COUNT_VIEW, STATUS)
        VALUES (FRE_POST_NO.NEXTVAL, #{memberId}, #{postTitle}, #{postContent}, #{imgFile}, DEFAULT, DEFAULT, #{status})
    </insert>

    <!-- 조회수 증가 -->
    <update id="freeViewCount">
        UPDATE FREE_BOARD SET COUNT_VIEW = COUNT_VIEW + 1 WHERE POST_NO = #{postNo}
    </update>

</mapper>
