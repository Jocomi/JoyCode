<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jocomi.jcm.board.model.mapper.EnquiryBoardMapper">
 <!-- 모든 문의 게시글 조회 -->
    <select id="selectEB" resultType="com.jocomi.jcm.board.model.vo.EnquiryBoard">
        SELECT * FROM ENQUIRY_BOARD
    </select>

    <!-- 특정 문의 게시글 조회 -->
    <select id="selectEnquiryById" resultType="com.jocomi.jcm.board.model.vo.EnquiryBoard">
        SELECT * FROM ENQUIRY_BOARD WHERE POST_NO = #{postNo}
    </select>

    <!-- 신규 문의 게시글 등록 -->
    <insert id="enrollEnquiryBoard" >
        INSERT INTO ENQUIRY_BOARD (POST_NO, MEMBER_ID, POST_TITLE, POST_CONTENT, IMG_FILE, POST_TIME, COUNT_VIEW, PRIVATE_ENQUIRY)
        VALUES (ENQ_POST_NO.NEXTVAL, #{memberId}, #{postTitle}, #{postContent}, #{imgFile}, DEFAULT, DEFAULT, #{status})
    </insert>

    <!-- 조회수 증가 -->
    <update id="enqViewCount">
        UPDATE ENQUIRY_BOARD SET COUNT_VIEW = COUNT_VIEW + 1 WHERE POST_NO = #{postNo}
    </update>

</mapper>
